<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Front Page of Xara Shaw's life, XaragameIsHere</title>
  <!-- The style.css file allows you to change the look of your web pages.
         If you include the next line in all your web pages, they will all share the same look.
         This makes it easier to make new pages for your site. -->
  <link href="Styles/style.css" rel="stylesheet" type="text/css">
  <link href="Styles/98.css" rel="stylesheet" type="text/css">
</head>
  <body>
	<div class="window" style="width: 100%; position: absolute; bottom: 0; left: 0; height: 5%" >
	  <div class="status-bar" style="height: 100%">
		  
		<button style="width: 10%; font-size: 2vw; font-family: HelveticaNeue; " ><img src="images/winbows.png" alt="start" style=" width: 17%;">Start</button>
		<button onclick="window.location.href='https://www.youtube.com/@XaragameIsHere';" style="width: 5%; font-size: 2vw;"><img src="images/youboob.png" style=" width: 80%;" alt="Youtube" href="https://www.youtube.com/@XaragameIsHere"></button>
		<button onclick="window.location.href='https://xaragame.itch.io/';" style="width: 5%; font-size: 2vw;"><img src="images/itch.svg" style=" width: 50%;" alt="Itch"></button>
		<button onclick="window.location.href='https://steamcommunity.com/id/Za-ra-game/';" style="width: 5%; font-size: 2vw;"><img src="images/steam.png" style=" width: 50%;" alt="Steam"></button>
		<button onclick="window.location.href='https://instagram.com/xaragameishere?igshid=NTc4MTIwNjQ2YQ==';" style="width: 5%; font-size: 2vw;"><img src="images/Instagram-Icon.png" style=" width: 50%;" alt="Instagram"></button>
		<button onclick="window.location.href='https://ko-fi.com/xaragame';" style="width: 5%; font-size: 2vw;"><img src="images/kofi.png" style=" width: 50%;" alt="Ko-Fi"></button>
		<button onclick="window.location.href='https://discord.com/users/441424104260763661';" style="width: 5%; font-size: 2vw;"><img src="images/Discord.png" style=" width: 50%;" alt="Discord"></button>
		<button onclick="window.location.href='mailto:xaragamens30@gmail.com';" style="width: 5%; font-size: 2vw;"><img src="images/Mail.png" style=" width: 50%;" alt="Email"></button>
	  </div>  
	 </div>
	<div class="window" style="position: absolute;  width: 800px; height: 500px; background: pink;">

	  <div class="title-bar">
		<img src="/images/me.png" alt="me" style=" width: 2%;">
		<div class="title-bar-text">Welcome to XaragameIsHere</div>
		<div class="title-bar-controls">
		  <button aria-label="Minimize"></button>
		  <button aria-label="Maximize"></button>
		  <button aria-label="Close"></button>
		</div>
		  
	  </div>
		<div style=" height: 40%; width: 100%;">
			<div style="height: 100%">
			   <a href="index.html"><img src="images/banner.png" alt="HTML tutorial" style="width:100%;height:100%;border:0"></a>

			</div>
		</div>
		<div style=" width: 50%; height: auto;">
		 
			<div style="top: 0%; right: 50%; height: 50%; width: 50%; background-color: #f7f7f7;">
			  <p class="light" style="display: inline; font-family: HelveticaNeue; font-size: 20pt;">Site Highlights</p>
			</div>
			<div class="listbox" style="border-left: 5px solid #d52d00;">
			  <p class="boxtext"> <button onClick="openAbout('about-window')">About Me</button> </p>
			</div>
			<div class="listbox" style="border-left: 5px solid #ef7528;">
			  <p class="boxtext"> <button onClick="openAbout('portfolio-window')">Portfolio</button> </p>
			</div>
			<div class="listbox" style="border-left: 5px solid #ff9b57;">
			  <p class="boxtext"> <button>Blog</button> </p>
			</div>
			<div class="listbox" style="border-left: 5px solid #ffffff;">
			  <p class="boxtext"> <button >Media Recommendations</button></p>
			</div>
			<div class="listbox" style="border-left: 5px solid #d160a7;">
			  <p class="boxtext"> <button >Life Updates</button></p>
			</div>
			<div class="listbox" style="border-left: 5px solid #b4568f;">
			  <p class="boxtext"> <button>Development Requests</button></p>
			</div>
			<div class="listbox" style="border-left: 5px solid #a50262;">
			  <p class="boxtext"> <button>Games + Demos</button></p>
			</div>
		  
		</div>
	</div>
	  
	<div id="about-window" class="window" style="display: none; position: absolute; top: 2%; left: 2%; width: 800px; height: 500px; background: pink;">

	  <div class="title-bar">
		<img src="/images/me.png" alt="me" style=" width: 2%;">
		<div class="title-bar-text">About Me</div>
			<div class="title-bar-controls">
			  <button aria-label="Minimize"></button>
			  <button aria-label="Maximize"></button>
			  <button onClick="closeAbout('about-window')" aria-label="Close"></button>
			</div>
		  
		</div>
		
	 </div>
	  
	 <div id="portfolio-window" class="window" style="display: none; position: absolute; top: 2%; left: 2%; width: 800px; height: 500px; background: pink;">

	  <div class="title-bar">
		<img src="/images/me.png" alt="me" style=" width: 2%; alt=me;">
		<div class="title-bar-text">Xara's Portfolio</div>
		<div class="title-bar-controls">
		  <button aria-label="Minimize"></button>
		  <button aria-label="Maximize"></button>
		  <button onClick="closeAbout('portfolio-window')" aria-label="Close"></button>
		</div>
		  
	  </div>
		<div class="window-body">
    		<div class="window-body">

			  <menu role="tablist">
				<li id="Games" class="tab PortfolioGames" role="tab" aria-selected="true"><a href="#tabs">Full Games</a></li>
				<li id="Demos" class="tab PortfolioGames" role="tab"><a href="#tabs">Demos</a></li>
				<li id="Maps" class="tab PortfolioGamesNonBrowser" role="tab"><a href="#tabs">Maps</a></li>
				<li id="Videos" class="tab PortfolioVideo" role="tab"><a href="#tabs">Videos</a></li>
				<li id="Devlogs/Documentations" class="tab PortfolioWriting" role="tab"><a href="#tabs">Documentations/Devlogs</a></li>
				<li id="Scripts/Stories" class="tab PortfolioWriting" role="tab"><a href="#tabs">Scripts/Stories</a></li>
				<li id="mods" class="tab" role="tab"><a href="#tabs">Mods</a></li>
				<li id="models" class="tab" role="tab"><a href="#tabs">Models</a></li>
				<li id="Photoshops" class="tab PortfolioImage" role="tab"><a href="#tabs">Photoshops</a></li>
				<li id="Essays" class="tab PortfolioWriting" role="tab"><a href="#tabs">Essays</a></li>
			  </menu>
			  <div class="window" role="tabpanel">
				<div class="window-body">
				  <div class="sunken-panel" style="height: 200%; width: 100%;">
				  <table class="interactive" style="width: 100%;">
					<thead>
					  <tr>
						<th>Name</th>
						<th>Creation Date&nbsp;</th>
						<th>Description</th>
					  </tr>
					</thead>
					<tbody id="listOfElements">
					  
					</tbody>
				  </table>
				</div>
				
				</div>
			  </div>
			</div>
  		</div>
	 </div>
	
   <script>
	   async function getJSON() {
			return fetch('data/portfolioData.json')
				.then((response)=>response.json())
				.then((responseJson)=>{return responseJson});
		}
	   
	   var json;
	   async function caller() {
			json = await this.getJSON();  // command waits until completion
			console.log(json);            // hello is now available
		   /*
		   	var result = [];
				var keys = Object.keys(json);
				keys.forEach(function(key){
					result.push(json[key]);
				});
				console.log(result)
	   		*/
		}

	   	this.caller();
	   
	   
		var tableBody = document.getElementById("listOfElements");
	   
	   	var prevElement;
	   
	   	document.querySelectorAll('.tab').forEach(element => {
			if (element.getAttribute("aria-selected") == "true")
			{
				prevElement = element
			}
			console.log(element)
			element.addEventListener('click', (event) => {
				var new_tbody = document.createElement('tbody');
				tableBody.parentNode.replaceChild(new_tbody, tableBody);
				tableBody = new_tbody;
				
				console.log(element.id);
				prevElement.setAttribute("aria-selected", "false");
				element.setAttribute("aria-selected", "true");
				prevElement = element;
				for (var data in json[element.id])
				{
					var row = tableBody.insertRow(0);
					
					row.className = "interactive";

					// Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					var cell3 = row.insertCell(2);
					
					//cell1.href
					var thing = element.className.replace("tab ", "");
					
					cell1.innerHTML = "<a href= 'Pages/" + thing + ".html?mediaType="+ element.id +"&dataIndex=" + data +"'>"+ json[element.id][data]["Name"] +"</a>";
					cell2.innerHTML = json[element.id][data]["Creation Date"];
					cell3.innerHTML = json[element.id][data]["Description"];
					
				}
			})
		  });
	   
	   	
	   	function openAbout(elementToClose) {
			document.getElementById(elementToClose).style.display = "block";
		}
		function closeAbout(elementToClose) {
			document.getElementById(elementToClose).style.display = "none";
		}
	</script>

  </body>
  
  
</html>
