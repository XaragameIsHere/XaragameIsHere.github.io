<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Front Page of Xara Shaw's life, XaragameIsHere</title>
	<link rel="icon" href="../images/me.png" type="image/x-icon">
	<link href="../Styles/98.css" rel="stylesheet" type="text/css">
	<link href="../Styles/style.css" rel="stylesheet" type="text/css">
  <!-- The style.css file allows you to change the look of your web pages.
         If you include the next line in all your web pages, they will all share the same look.
         This makes it easier to make new pages for your site. -->
</head>
  <body>
	<div class="window" style="width: 100%; position: absolute; bottom: 0; left: 0; height: 5%" >
	  <div class="status-bar" style="height: 100%">
		  
		<button style="width: 10%; font-size: 2vw; font-family: HelveticaNeue; " ><img src="../images/winbows.png" alt="start" style=" width: 17%;">Start</button>
		<button onclick="window.location.href='https://www.youtube.com/@XaragameIsHere';" style="width: 5%; font-size: 2vw;"><img src="../images/youboob.png" style=" width: 80%;" alt="Youtube" href="https://www.youtube.com/@XaragameIsHere"></button>
		<button onclick="window.location.href='https://xaragame.itch.io/';" style="width: 5%; font-size: 2vw;"><img src="../images/itch.svg" style=" width: 50%;" alt="Itch"></button>
		<button onclick="window.location.href='https://steamcommunity.com/id/Za-ra-game/';" style="width: 5%; font-size: 2vw;"><img src="../images/steam.png" style=" width: 50%;" alt="Steam"></button>
		<button onclick="window.location.href='https://instagram.com/xaragameishere?igshid=NTc4MTIwNjQ2YQ==';" style="width: 5%; font-size: 2vw;"><img src="../images/Instagram-Icon.png" style=" width: 50%;" alt="Instagram"></button>
		<button onclick="window.location.href='https://ko-fi.com/xaragame';" style="width: 5%; font-size: 2vw;"><img src="../images/kofi.png" style=" width: 50%;" alt="Ko-Fi"></button>
		<button onclick="window.location.href='https://discord.com/users/441424104260763661';" style="width: 5%; font-size: 2vw;"><img src="../images/Discord.png" style=" width: 50%;" alt="Discord"></button>
		<button onclick="window.location.href='mailto:xaragamens30@gmail.com';" style="width: 5%; font-size: 2vw;"><img src="../images/Mail.png" style=" width: 50%;" alt="Email"></button>
	  </div>  
	 </div>
	<div class="window" style="position: absolute;  width: 60%; height: 80%; background: pink;">

	  <div class="title-bar inactive">
		<img src="../images/me.png" alt="me" style=" width: 2%;">
		<div class="title-bar-text">Welcome to XaragameIsHere</div>
		<div class="title-bar-controls">
		  <button aria-label="Minimize"></button>
		  <button aria-label="Maximize"></button>
		  <button aria-label="Close"></button>
		</div>
		  
	  </div>
		<div style=" height: 40%; width: 100%;">
			<div style="height: 100%">
			   <a href="/index.html"><img src="../images/banner.png" alt="HTML tutorial" style="width:100%;height:100%;border:0"></a>

			</div>
		</div>
		<div style=" width: 50%; height: auto;">
		 
			<div style="top: 0%; right: 50%; height: 50%; width: 50%; background-color: #f7f7f7;">
			  <p class="light" style="display: inline; font-family: HelveticaNeue; font-size: 20pt;">Site Highlights</p>
			</div>
			<div class="listbox" style="border-left: 5px solid #d52d00;">
			  <p class="boxtext"> <button>About Me</button> </p>
			</div>
			<div class="listbox" style="border-left: 5px solid #ef7528;">
			  <p class="boxtext"> <button>Portfolio</button> </p>
			</div>
			<div class="listbox" style="border-left: 5px solid #ff9b57;">
			  <p class="boxtext"> <button>Blog</button> </p>
			</div>
			<div class="listbox" style="border-left: 5px solid #ffffff;">
			  <p class="boxtext"> <button >Media Recommendations</button></p>
			</div>
			<div class="listbox" style="border-left: 5px solid #d160a7;">
			  <p class="boxtext"> <button >Life Updates</button></p>
			</div>
			<div class="listbox" style="border-left: 5px solid #b4568f;">
			  <p class="boxtext"> <button>Development Requests</button></p>
			</div>
			<div class="listbox" style="border-left: 5px solid #a50262;">
			  <p class="boxtext"> <button>Games + Demos</button></p>
			</div>
		  
		</div>
	</div>
	  
	
	  
	 <div id="portfolio-window" class="window" style="display: block; position: absolute; top: 2%; left: 2%; width: 60%; height: 80%; background: pink;">

	  <div class="title-bar inactive">
		<img src="../images/me.png" alt="me" style=" width: 2%; alt=me;">
		<div class="title-bar-text">Xara's Portfolio</div>
		<div class="title-bar-controls">
		  <button aria-label="Minimize"></button>
		  <button aria-label="Maximize"></button>
		  <button aria-label="Close"></button>
		</div>
		  
	  
	 </div>
	</div>
	  
	  <div id="main" class="window" style="display: block; position: absolute; top: 4%; left: 4%; width: 60%; height: 80%; background: pink;">

	  <div class="title-bar">
		<img src="../images/me.png" alt="me" style=" width: 2%; alt=me;">
		<div id="titleBar" class="title-bar-text">Example Item</div>
		<div class="title-bar-controls">
		  <button aria-label="Minimize"></button>
		  <button aria-label="Maximize"></button>
		  <a href="../index.html"><button aria-label="Close"></button></a>
		</div>
		  
	  
	 	</div>
		  <h1 class="gradient-text" style="text-align: center; font-size: 150%; width: 30%; top: 5%; right: 0%; color: ">Xara's Commentary</h1>
		  
		  <ul id="commentary" class="tree-view" style=" overflow-y: auto; overflow-x: hidden; bottom: 5%; right: 1%; display: inline-flex; width: 38%; height: 80%; font-size: 150%">
			<template id="google-docs">
			  <iframe id="reader" src="https://docs.google.com/document/d/e/2PACX-1vS5JbV5ng_LWtro63ApAezrgp8zn9vD78vJb0fawK7GlvNSKv9i4e6t8qZHgfj84mjsrpMC9QYy2Pex/pub?embedded=true" style="display: block; width: 100%; height: 100%; font-size: 100%"></iframe>
			 </template>
			  
		   <template id="standard">
			   <li id="commentaryBox">Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,
	molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum
	numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium
	optio, eaque rerum! Provident similique accusantium nemo autem. Veritatis
	obcaecati tenetur iure eius earum ut molestias architecto voluptate aliquam
	nihil, eveniet aliquid culpa officia aut! Impedit sit sunt quaerat, odit,
	tenetur error, harum nesciunt ipsum debitis quas aliquid. Reprehenderit,
	quia. Quo neque error repudiandae fuga? Ipsa laudantium molestias eos 
	sapiente officiis modi at sunt excepturi expedita sint? Sed quibusdam
	recusandae alias error harum maxime adipisci amet laborum. Perspiciatis 
	minima nesciunt dolorem! Officiis iure rerum voluptates a cumque velit 
	quibusdam sed amet tempora.Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,
	molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum
	numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium
	optio, eaque rerum! Provident similique accusantium nemo autem. Veritatis
	obcaecati tenetur iure eius earum ut molestias architecto voluptate aliquam
	nihil, eveniet aliquid culpa officia aut! Impedit sit sunt quaerat, odit,
	tenetur error, harum nesciunt ipsum debitis quas aliquid. Reprehenderit,
	quia. Quo neque error repudiandae fuga? Ipsa laudantium molestias eos 
	sapiente officiis modi at sunt excepturi expedita sint? Sed quibusdam
	recusandae alias error harum maxime adipisci amet laborum. Perspiciatis 
	minima nesciunt dolorem! Officiis iure rerum voluptates a cumque velit 
	quibusdam sed amet tempora. </li>
			  </template> 
	</ul>
		<div id="previewBox">
		<template id="imagePreview">
		  <img id="image" src="../data/images/bcaPreview/1.jpg" alt="screenShots" style=" width: 55%; height: 70%; display: block; position: absolute; top: 8%; left: 40%; border-style: inset; border-width: 5px;">
		  </template>
		  
		  <template id="videoPreview">
		  <iframe id="video" src="https://drive.google.com/file/d/1EEHIbbEFBw90GtwDaREDX16NSXcNTxHn/preview" width="55%" height="70%" style="position: absolute; top: 8%; left: 40%;" allow="autoplay"></iframe>
		</template>
		</div>	   
		  
		  
		  <button id="right" onClick="changeView(1)" style="position: absolute; height: 10%; width: 3%; top: 40%; left: 88%;"><img src="../images/arrow.png" alt="screenShots" style=" width: 100%; height: 100%; "></button>
		  <button id="left" onClick="changeView(-1)" style="position: absolute; height: 10%; width: 3%; top: 40%; left: 41%; "><img src="../images/arrow.png" alt="screenShots" style=" width: 100%; height: 100%; transform: scaleX(-1);"></button>
		  <button id="ActionButton" style=" width: 30%; height: 10%; display: block; position: absolute; bottom: 8%; left: 50%; font-family: HelveticaNeue; font-size: 200%;">Play on Steam</button>
		  
	</div>
   <script>
	   const clamp = (number, min, max) => Math.max(min, Math.min(number, max));
	   var clone;
	   var position = 1
	   const urlParams = new URLSearchParams(window.location.search);
	   const mediaType = urlParams.get('mediaType');
	   const index = urlParams.get('dataIndex');
	   const previewBox = document.querySelector("#previewBox")
	   
	   console.log(mediaType);
	   async function getJSON() {
			return fetch('../data/portfolioData.json')
				.then((response)=>response.json())
				.then((responseJson)=>{return responseJson});
		}
	   
	   var json;
	   async function caller() {
			json = await this.getJSON();  // command waits until completion
			console.log(json);            // hello is now available
		   console.log("hell2");
		   document.getElementById("titleBar").innerHTML = json[mediaType][index]["Name"];
		const showcaseBox = document.querySelector("#commentary");
		   if (json[mediaType][index]["Commentary-Type"] == "google-docs")
		   {
			   const template = document.querySelector("#google-docs");
			   console.log(json[mediaType][index]["Commentary-Type"]);
				
			   const clone = template.content.cloneNode(true);
				var text = clone.querySelector("#reader");
			   
			   text.innerHTML = json[mediaType][index]["Commentary"];
		   		
			   showcaseBox.appendChild(clone);
		   }
		   else if (json[mediaType][index]["Commentary-Type"] == "standard")
			{
			   const template = document.querySelector(json[mediaType][index]["Commentary-Type"]);
				
			   const clone = template.content.cloneNode(true);
				var text = clone.querySelector("#commentaryBox");
			   
			   text.src = json[mediaType][index]["Commentary"];
			   showcaseBox.appendChild(clone);
			}
		   console.log("hell");
		   changeView(1);
		   /*
		   	var result = [];
				var keys = Object.keys(json);
				keys.forEach(function(key){
					result.push(json[key]);
				});
				console.log(result)
				
	   		*/
		}

	   	this.caller();
	   
	   	document.getElementById("ActionButton").addEventListener('click', (event) => {
				
				window.location=json[mediaType][index]["link"];
			
				
			})
	   
	   function changeView(direction)
	   {
		   for (var element in previewBox.elements)
		   {
			   element.remove()
		   }
		   position = position + direction 
		   position = clamp(position, 0, json[mediaType][index]["Previews"].length - 1)
		   console.log(position)
		   
		   
		   const template = document.querySelector(["#",json[mediaType][index]["Previews"][position]["Type"], 'Preview'].join(""));

		   clone = template.content.cloneNode(true);
			var text = clone.querySelector(["#", json[mediaType][index]["Previews"][position]["Type"]].join(""));

		   text.src = json[mediaType][index]["Previews"][position]["Link"]

		   previewBox.appendChild(clone);
	   }
	   	
	   	
	</script>

  </body>
  
  
</html>
